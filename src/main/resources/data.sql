-- Table Schemas
DROP TABLE IF EXISTS applicant;
DROP TABLE IF EXISTS rating;
DROP TABLE IF EXISTS request_result;

CREATE TABLE applicant
(
    id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    id_number VARCHAR(11) UNIQUE NOT NULL,
    first_name VARCHAR(100) NOT NULL,
    last_name VARCHAR(100) NOT NULL,
    monthly_income INT NOT NULL,
    phone_number VARCHAR(13) NOT NULL
);

CREATE TABLE rating
(
    id_number VARCHAR(11) PRIMARY KEY,
    loan_rating INT
);

CREATE TABLE request_result
(
    id_number VARCHAR(11) PRIMARY KEY,
    request_status VARCHAR(15),
    loan_limit INT
);


INSERT INTO applicant(id_number, first_name, last_name, monthly_income, phone_number)
VALUES ('12345678900', 'Ahmet', 'Yılmaz', 3500, '05351234560'),
       ('12345678901', 'Mehmet', 'Şahin', 5800, '05351234561'),
       ('12345678902', 'Hasan', 'Ali', 3700, '05351234562'),
       ('12345678903', 'Merve', 'Solmaz', 11000, '05351234563'),
       ('12345678904', 'Cansu', 'Kara', 4700, '05351234564'),
       ('12345678905', 'Aylin', 'Budak', 5200, '05351234565'),
       ('12345678906', 'Mert', 'Aydın', 8400, '05351234566'),
       ('12345678907', 'Kader', 'Arslan', 4300, '05351234567'),
       ('12345678908', 'Tolga', 'Sönmez', 3100, '05351234568'),
       ('12345678909', 'Canan', 'Sezgin', 6200, '05351234569');


INSERT INTO rating(id_number, loan_rating)
VALUES ('12345678900', 488),
       ('12345678901', 822),
       ('12345678902', 435),
       ('12345678903', 1348),
       ('12345678904', 755),
       ('12345678905', 387),
       ('12345678906', 925),
       ('12345678907', 1034),
       ('12345678908', 660),
       ('12345678909', 1130);


INSERT INTO request_result(id_number, request_status, loan_limit)
VALUES ('12345678900', 'DENIED', 0),
       ('12345678901', 'APPROVED', 20000),
       ('12345678902', 'DENIED', 0),
       ('12345678903', 'APPROVED', 44000),
       ('12345678904', 'APPROVED', 18800),
       ('12345678905', 'DENIED', 0),
       ('12345678906', 'APPROVED', 20000),
       ('12345678907', 'APPROVED', 17200),
       ('12345678908', 'APPROVED', 10000),
       ('12345678909', 'APPROVED', 24800);